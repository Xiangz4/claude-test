# RabbitMQ Configuration for FX-V1 Microservices
# Optimized for event-driven architecture

## Network Configuration
listeners.tcp.default = 5672

## Management Plugin
management.tcp.port = 15672
management.tcp.ip = 0.0.0.0

## Security
# Default user credentials (change in production)
# default_user = fx_admin
# default_pass = fx_password

## Memory and Disk Limits
vm_memory_high_watermark.relative = 0.6
disk_free_limit.absolute = 50MB

## Connection Configuration
heartbeat = 60
frame_max = 131072
channel_max = 2047

## Queue Configuration
# Default queue type
queue_master_locator = min-masters

## Message Store Configuration
# Enable lazy queues by default for better memory management
queue_mode = lazy

## Logging
log.console = true
log.console.level = info
log.file = false

## Clustering (disabled for single-node development)
cluster_formation.peer_discovery_backend = rabbit_peer_discovery_classic_config

## Performance Tuning
collect_statistics_interval = 5000

## Network Tuning
tcp_listen_options.backlog = 128
tcp_listen_options.nodelay = true
tcp_listen_options.linger.on = true
tcp_listen_options.linger.timeout = 0

## Message TTL
# No default TTL (set per queue)

## High Availability
# HA policies should be defined via management API or command line

## Management Plugin Configuration
management.load_definitions = /etc/rabbitmq/definitions.json
